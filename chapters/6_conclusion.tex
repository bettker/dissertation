\chapter{Conclusion}
\label{sec:conclusion}

We have presented a study of sample generation and correction strategies for training FNNs to learn heuristic functions for classical planning. We have revised existing approaches to sample generation and proposed a new strategy that uses regression with BFS and random walks, as well as several techniques that improve cost-to-goal estimates. Through the revision and refinement of existing sample generation methods, we have successfully enhanced the overall performance of the learned heuristic functions, achieving nearly double the coverage compared to our baseline.

% \section{Contributions}

Among our contributions, the $h$-value improvement strategy SUI and the adaptive regression limit \meanfx have the most positive effects on sampling quality. The former improves the accuracy of cost-to-goal estimates by analyzing the successors of a state, while the latter avoids overestimates by limiting the maximum regression limit so that we have a more balanced sampling distribution within a reasonable cost-to-goal range. Also, one of our main findings is that having fewer samples with more accurate $h$-values is better than having more samples with inaccurate $h$-values. Furthermore, having multiple random walk rollouts -- especially when combined with \bfs~-- generates samples with better quality when compared to using only \bfs or \dfs.

Finally, a systematic analysis of small state spaces against ideal baselines seems to indicate that: a)~for the samples obtained through regression, a distribution covering diverse portions of the state space without repeated samples close to the goal works best, b)~both the sample size and reasonable cost-to-goal estimates contribute to search performance, with the latter being more important, c)~enough samples of good quality translate to good search performance that can be compared to logic-based heuristics, although model-free approaches (e.g., without mutexes) are currently not as good as model-based ones.

\section{Future Work}

Approaches that address the limitations described in Section~\ref{sec:limitations} can be explored. Additionally, when compared to logic-based heuristics, some domains do not have good results with learned heuristics, such as Rovers, that as far as we know, has a low coverage among all NN-based methods. Currently, it is unclear why some domains perform well and others poorly among different learned heuristics.

We validate the findings of O'Toole et al.~(\citeyear{OToole/2022}) that including randomly generated samples in the final sample set has a consistently positive impact, although the underlying reasons for this effect remain unexplained. An in-depth study on random sampling can be conducted to understand its effect when combined with other sampling methods. Therefore, exploring new techniques for assigning the cost-to-goal estimate could enhance the current arbitrary value.

Finally, the training of heuristic functions with model-free approaches seems promissing. The experiments demonstrate competitive results compared to the model-based one, with a coverage difference of less than $4\,\%$ in 8 out of 10 domains. These findings indicate the potential of model-free approaches, which can contribute to more efficient and adaptable problem-solving techniques.
